<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="../Scripts/jquery.signalR-0.5.3.min.js" type="text/javascript"></script>
    <script src="/signalr/hubs" type="text/javascript"></script>

    <script type="text/javascript">
        $(function () {
            var myHub = $.connection.chatHub;

            $('#sendText').click(function () {
                var value = $('#msg').val();
                myHub.send(value);

                $('#msg').val('');
            });

            myHub.addMessage = function (value) {
                $('#msgs').append('<li>' + value + '</li>');
            };

            $.connection.hub.start()
                .done(function () {
                    myHub.requestChat();
                })
                .fail(function () { alert('unable to connect'); });
        });
    </script>
</head>
<body>
    <input type="text" id="msg" />
    <button id="sendText">Send</button>
    <ul id="msgs">
    </ul>
</body>
</html>
